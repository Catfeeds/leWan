<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>盟主成绩</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../../css/mui.min.css" rel="stylesheet" />
		<link href="../../css/leWan.css" rel="stylesheet" />
		<link href="../../plugins/swiper-4.3.3.min.css" rel="stylesheet" />
		<link href="../../fonts/iconfont.css" rel="stylesheet" />
		<style type="text/css">
			body {
				padding: 0;
				margin: 0 !important;
				background-color: #FFFFFF;
			}
			/*头部*/
			.header{
				width: 100%;
				height: 6.6rem;
				position: relative;
				background-repeat: no-repeat;
				background-size: 100% 100%;
			}
			.header_number{
				position: absolute;
				width: 1.84rem;
				height: 0.9rem;
				line-height: 0.9rem;
				text-align: center;
				font-size: 0.693rem;
				font-weight: bold;
				color: #D89E02;
				font-family: "wupan";
			}
			.sixipaim{
				margin: 3rem 0 0 6.186rem;
			}
			.lewanpaim{
				margin: 3rem 0 0 4.08rem;
			}
			.huodong{
				position: absolute;
				width: 0.6rem;
				height: 1.333rem;
				top: 2.506rem;
				right: 0.626rem;
			}
			.content{
				font-family: "wupan";
				width: 9.226rem;
				height: 10.72rem;
				margin: 0 auto;
				position: relative;
				overflow: hidden;
				top: -1rem;
				border-radius: 0.2rem;
				background-color: #FFFFFF;
				box-shadow: 0px 0.093rem 0.293rem 0px rgba(0,0,0,0.16);;
			}
			.content_header{
				position: relative;
			}
			.header_img{
				width: 1.452rem;
				height: 1.452rem;
				border-radius: 0.726rem;
				position: absolute;
				left: 0.573rem;
				top: 0.48rem;
			}
			.name{
				position: absolute;
				left: 2.266rem;
				top: 0.68rem;
				font-size: 0.333rem;
				font-weight: 300;
				color: #333333;
			}
			.level_name{
				display: inline-block;
				width: 2.24rem;
				height: 0.72rem;
				border-radius: 0.36rem;
				line-height: 0.72rem;
				text-align: center;
				position: absolute;
				left: 2.266rem;
				top: 1.306rem;
				font-size: 0.333rem;
				font-weight: 600;
				color: #FFFFFF;
			}
			.rank_num{
				position: absolute;
				left: 5.96rem;
				top: 1.52rem;
				font-size: 0.32rem;
				font-weight: 400;
				color: #F1B106;
			}
			.rank_fenxi{
				margin-top: 2.853rem;
				text-align: center;
			}
			.rank_fenxi>img{
				width: 3.746rem;
				display: inline-block;
			}
			.rank_fenxi>div{
				margin-top: 0.093rem;
				font-size: 0.32rem;
				font-weight: 400;
				color: #999999;
			}
			.num_box{
				margin-top: 0.8rem;
			}
			.num_box>span:nth-child(1){
				font-size: 0.36rem;
				font-weight: 400;
				color: #0A0722;
				margin-left: 0.48rem;
			}
			.num_box>span:nth-child(2){
				font-size: 0.6rem;
				font-weight: 600;
			}
			.xiangcha{
				font-size: 0.4rem !important;
			}
			.footer{
				font-size: 0.293rem;
				color: #CCCCCC;
				font-weight: 500;
				margin-top: 0.5rem;
				text-align: center;
			}
			.sixiBack{
				background:linear-gradient(180deg,rgba(255,184,155,1) 0%,rgba(244,57,31,1) 100%);
			}
			.lewanBack{
				background:linear-gradient(360deg,rgba(48,35,174,1) 0%,rgba(200,109,215,1) 100%);
			}
			.sixi{
				color: #FF8B30;
			}
			.lewan{
				color: #5836B9;
			}
		</style>
	</head>

<body>
	<div class="" id="J_el" v-cloak>
		<div class="header" :style="{backgroundImage: 'url(' + imgList[level-1] + ')'}">
			<div class="header_number" :class="level==1? 'sixipaim' : 'lewanpaim'">{{comDet.thismonthranking || "无"}}</div>
			<div class="huodong"></div>
		</div>
		<div class="content">
			<div class="content_header">
				<img :src="comDet.avatar" class="header_img"/>
				<span class="name">{{comDet.nickname}}</span>
				<div class="level_name" :class="backColor[level-1]">{{ level == 1 ? "实习盟主":"乐玩盟主" }}</div>
				<span class="rank_num">当前排名：{{comDet.thismonthranking || "--"}}
					<i v-if="comDet.ranking == 2 || comDet.ranking == 3" class="iconfont" :class="comDet.ranking == 2 ? 'icon-jiantou-copy-copy' : (comDet.ranking == 3 ? 'icon-jiantou' : '')"></i>
				</span>
			</div>
			<div class="rank_fenxi">
				<img src="http://oss.lewan6.ren/uploads/idcard/20190228/97b6c89cb694d09c3064c6c539d1d04b78c05461.png"/>
				<div class="">最后一次更新 {{ comDet.addtime ? getDateTime(comDet.addtime,"Y-MM-dd hh:mm:ss") : "--"}}</div>
			</div>
			<div class="num_box">
				<span>本月佣金金额：</span>
				<span :class="fontColor[level-1]">{{comDet.commission || 0}}</span>
			</div>
			<div class="num_box">
				<span>本月佣金排名：</span>
				<span :class="fontColor[level-1]">{{comDet.thismonthranking || "暂未进入排名"}}</span>
			</div>
			<div class="num_box">
				<span>上月佣金排名：</span>
				<span :class="fontColor[level-1]">{{comDet.lastmonthranking || "暂未进入排名"}}</span>
			</div>
			<div class="num_box">
				<span>相较第一名业绩比例：</span>
				<span class="xiangcha" :class="fontColor[level-1]">{{ comDet.percentage ? ("相差" + comDet.percentage) : " --" }}</span>
			</div>
		</div>
		<div class="footer">以上内容最终解释权归乐玩联盟所有</div>
	</div>
	<script src="../../plugins/flexible.js"></script>
	<script type="text/javascript" src="http://res.wx.qq.com/open/js/jweixin-1.4.0.js"></script>
	<script src="../../plugins/jquery-2.1.4.js"></script>
	<script src="../../plugins/vue.js"></script>
	<script src="../../js/mui.min.js"></script>
	<script src="../../plugins/swiper-4.3.3.min.js"></script>
	<script src="../../plugins/serverApi.js"></script>
	<script src="../../plugins/getTokenCommon.js"></script>
	<script type="text/javascript">
		$(function() {
			var token = localStorage.getItem("token");
			var vueData = {
				level: 1,
				imgList: [
					"http://oss.lewan6.ren/uploads/idcard/20190307/dc7bc69d01de152c27daa8560306846063de9354.png",
					"http://oss.lewan6.ren/uploads/idcard/20190307/6a74cfa148c751aa73f0cafc7afc8de0e0530337.png",
				],
				fontColor:["sixi","lewan"],
				backColor:["sixiBack","lewanBack"],
				comDet:{}
			}
			new Vue({
				el: "#J_el",
				data: vueData,
				methods: {}
			})
			
			mui('body').on('tap', '.huodong', function() { //9 活动规则
				mui.openWindow({
					url: "../homePage/articleTemplate.html?msgId="+9
				})
			})
			getList();
			function getList() {
				$.ajax({
					url: API_SERVER + "Usercommunityleader/LeaderRanking",
					data: {token: token,},
					success: function(data) {
						log(data)
						if(data.code == 200) {
							vueData.level = data.data.ownerstatus;
							vueData.comDet = data.data;
						} else {
							mui.toast(data.message)
						}
					}
				});
			}
		})
	</script>
</body>

</html>